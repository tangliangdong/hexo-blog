---
title: Linux查看文件目录大小
toc: true
date: 2020-03-05 16:29:44
categories: 后端
tags:
    - linux
---

项目上的 `rocketmq` 因为服务器硬盘满了，无法继续使用了，因此需要去清理服务器上一些没用的数据。

<!--more-->

### df -h   显示磁盘空间信息

![df -h](1.png)



### du -sh *   显示该路径下文件夹的大小

![du -sh *](2.png)



### du -s * | sort -nr   根据文件夹大小排序显示文件夹

![du -s * | sort -nr](4.png)

> 这里就不要使用 `du -sh *` 了，排序会乱



### ls -lh

![ls -lh](3.png)

该命令第5列的数字：
1、对于普通文件，显示的是文件的大小（字节数）
2、对于设备文件是指主设备号（第6列为次设备号）
3、对于目录，是指目录大小（目录内inode列表所占空间，而**不是目录内文件所占的空间大小**）
4、对于符号链接，是指链接文件的路径名的字节数



### ls和du统计机制

- **ls** 显示的是一个文件占用的磁盘空间
- **du** 显示的是一个文件的大小

占用空间取决于文件系统的块（block）的大小，linux一般默认是4k(4096),因此，一个大小为1个字节的文件，最小也要占用4k，如果你创建文件系统的时候制定块大小是16K，那么即便一个文件只有1个字节，占用空间也是16K。

